<form
  class="form-character"
  [formGroup]="formCharacter"
  (ngSubmit)="onSubmit()"
 > 
 <div class="character" [formGroup]="formCharacter">
    <select formControlName="selectedCharacter" name="selectedCharacter" (change)="onCharacterSelected()">
      <option value="" disabled selected>Charger un personnage</option>
      <option *ngFor="let character of characterListe" [value]="character.id">
        {{ character.name }}
      </option>
    </select>  </div>
  <!-- ================== Classes ================== -->
  <app-classes #classesComponent [formClassesGroup]="formClassesGroup"></app-classes> 
   <!-- ================= Races ================== -->
   <app-races #racesComponent [formRacesGroup]="formRacesGroup"></app-races>
  <!-- ================== Backgrounds ================== -->
  <app-backgrounds #backgroundsComponent [formBackgroundsGroup]="formHistoriquesGroup"></app-backgrounds>
  <!-- ================== Langues ================== -->
  <app-languages #languagesComponent [formLanguagesGroup]="formLanguagesGroup"></app-languages>
  <!-- ================== Caractéristiques ================== -->
  <app-characteristic #characteristicComponent [formCharacteristicGroup]="formCharacteristicGroup"></app-characteristic>
  <!-- ================== Detail ================== -->
  <h1>Personnage</h1>
  <p>Définissez les derniers détails du personnage.</p>
  <div class="form-detail" [formGroup]="formDetail">
    <div class="form-grid">
      <div class="left-column">
        <div class="form-group">
          <h2>Nom</h2>
          <input
            type="text"
            formControlName="nom"
            placeholder="Nom du personnage"
          />
        </div>

        <div class="form-group">
          <h2>Sexe / Alignment / Âge réel</h2>
          <div class="form-row">
            <select formControlName="alignment">
              <option value="">Choisir un alignment</option>
              <option *ngFor="let option of alignmentOptions" [value]="option">
                {{ option }}
              </option>
            </select>
            <input type="number" formControlName="age" placeholder="Âge" />
          </div>
        </div>

        <div class="form-group">
          <h2>Taille / Poids / PX</h2>
          <div class="form-row">
            <input type="text" formControlName="taille" placeholder="1,75 m" />
            <input type="text" formControlName="poids" placeholder="80 kg" />
            <input type="number" formControlName="px" placeholder="0" />
          </div>
        </div>
        <div class="form-group">
          <h2>Yeux / Peau / Cheveux</h2>
          <div class="form-row">
            <input type="text" formControlName="yeux" placeholder="Yeux" />
            <input type="text" formControlName="peau" placeholder="Peau" />
            <input
              type="text"
              formControlName="cheveux"
              placeholder="Cheveux"
            />
          </div>
        </div>

        <div class="form-group">
          <h2>Apparence du personnage</h2>
          <textarea rows="5" formControlName="apparence"></textarea>
        </div>

        <div class="form-group">
          <h2>Histoire du personnage</h2>
          <textarea rows="5" formControlName="histoire"></textarea>
        </div>
      </div>

      <div class="right-column">
        <div class="form-group">
          <h2>Traits de personnalité</h2>
          <textarea rows="5" formControlName="traits"></textarea>
        </div>

        <div class="form-group">
          <h2>Idéaux</h2>
          <textarea rows="5" formControlName="ideaux"></textarea>
        </div>

        <div class="form-group">
          <h2>Liens</h2>
          <textarea rows="5" formControlName="liens"></textarea>
        </div>

        <div class="form-group">
          <h2>Défauts</h2>
          <textarea rows="5" formControlName="defauts"></textarea>
        </div>

        <div class="form-group">
          <h2>Alliés et Organisations</h2>
          <textarea rows="5" formControlName="allies"></textarea>
        </div>

        <div class="form-group">
          <h2>Capacités supplémentaires</h2>
          <textarea rows="5" formControlName="capacites"></textarea>
        </div>
      </div>
    </div>
  </div>

   <div *ngIf="validationErrorMessage" class="validation-error-message">
      {{ validationErrorMessage }}
    </div>
    <button class="btn-save" type="submit" >Sauvegarder</button>
</form>
